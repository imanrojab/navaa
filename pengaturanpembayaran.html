<html lang="id">
  <script>
    window[
      Symbol.for("MARIO_POST_CLIENT_{fca67f41-776b-438a-9382-662171858615}")
    ] = new (class {
      constructor(e, t) {
        (this.name = e),
          (this.destination = t),
          (this.serverListeners = {}),
          (this.bgRequestsListeners = {}),
          (this.bgEventsListeners = {}),
          window.addEventListener("message", (e) => {
            const t = e.data,
              s = !(t.destination && t.destination === this.name),
              n = !t.event;
            if (!s && !n)
              if ("MARIO_POST_SERVER__BG_RESPONSE" === t.event) {
                const e = t.args;
                if (this.hasBgRequestListener(e.requestId)) {
                  try {
                    this.bgRequestsListeners[e.requestId](e.response);
                  } catch (e) {}
                  delete this.bgRequestsListeners[e.requestId];
                }
              } else if ("MARIO_POST_SERVER__BG_EVENT" === t.event) {
                const e = t.args;
                if (this.hasBgEventListener(e.event))
                  try {
                    this.bgEventsListeners[t.id](e.payload);
                  } catch (e) {}
              } else if (this.hasServerListener(t.event))
                try {
                  this.serverListeners[t.event](t.args);
                } catch (e) {}
          });
      }
      emitToServer(e, t) {
        const s = this.generateUIID(),
          n = { args: t, destination: this.destination, event: e, id: s };
        return window.postMessage(n, location.origin), s;
      }
      emitToBg(e, t) {
        const s = this.generateUIID(),
          n = { bgEventName: e, requestId: s, args: t };
        return this.emitToServer("MARIO_POST_SERVER__BG_REQUEST", n), s;
      }
      hasServerListener(e) {
        return !!this.serverListeners[e];
      }
      hasBgRequestListener(e) {
        return !!this.bgRequestsListeners[e];
      }
      hasBgEventListener(e) {
        return !!this.bgEventsListeners[e];
      }
      fromServerEvent(e, t) {
        this.serverListeners[e] = t;
      }
      fromBgEvent(e, t) {
        this.bgEventsListeners[e] = t;
      }
      fromBgResponse(e, t) {
        this.bgRequestsListeners[e] = t;
      }
      generateUIID() {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
          /[xy]/g,
          function (e) {
            const t = (16 * Math.random()) | 0;
            return ("x" === e ? t : (3 & t) | 8).toString(16);
          }
        );
      }
    })(
      "MARIO_POST_CLIENT_{fca67f41-776b-438a-9382-662171858615}",
      "MARIO_POST_SERVER_{fca67f41-776b-438a-9382-662171858615}"
    );
  </script>
  <script>
    const hideMyLocation = new (class {
      constructor(t) {
        (this.clientKey = t),
          (this.watchIDs = {}),
          (this.client = window[Symbol.for(t)]);
        const e = navigator.geolocation.getCurrentPosition,
          o = navigator.geolocation.watchPosition,
          n = navigator.geolocation.clearWatch,
          i = this;
        (navigator.geolocation.getCurrentPosition = function (t, o, n) {
          i.handle(e, "GET", t, o, n);
        }),
          (navigator.geolocation.watchPosition = function (t, e, n) {
            return i.handle(o, "WATCH", t, e, n);
          }),
          (navigator.geolocation.clearWatch = function (t) {
            if (-1 === t) return;
            const e = i.watchIDs[t];
            return delete i.watchIDs[t], n.apply(this, [e]);
          });
      }
      handle(t, e, o, n, i) {
        const a = this.client.emitToBg("HIDE_MY_LOCATION__GET_LOCATION");
        let r = this.getRandomInt(0, 1e5);
        if (
          (this.client.fromBgResponse(a, (a) => {
            if (a.enabled)
              if ("SUCCESS" === a.status) {
                const t = this.map(a);
                o(t);
              } else {
                const t = this.errorObj();
                n(t), (r = -1);
              }
            else {
              const a = [o, n, i],
                c = t.apply(navigator.geolocation, a);
              "WATCH" === e && (this.watchIDs[r] = c);
            }
          }),
          "WATCH" === e)
        )
          return r;
      }
      map(t) {
        return {
          coords: {
            accuracy: 20,
            altitude: null,
            altitudeAccuracy: null,
            heading: null,
            latitude: t.latitude,
            longitude: t.longitude,
            speed: null,
          },
          timestamp: Date.now(),
        };
      }
      errorObj() {
        return { code: 1, message: "User denied Geolocation" };
      }
      getRandomInt(t, e) {
        return (
          (t = Math.ceil(t)),
          (e = Math.floor(e)),
          Math.floor(Math.random() * (e - t + 1)) + t
        );
      }
    })("MARIO_POST_CLIENT_{fca67f41-776b-438a-9382-662171858615}");
  </script>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NavaaBoarding - Pengaturan Pembayaran</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script ecommerce-type="extend-native-history-api">
      (() => {
        const e = history.pushState,
          t = history.replaceState,
          a = history.back,
          r = history.forward;
        function n() {
          window.postMessage({ _custom_type_: "CUSTOM_ON_URL_CHANGED" });
        }
        (history.pushState = function () {
          e.apply(history, arguments), n();
        }),
          (history.replaceState = function () {
            t.apply(history, arguments), n();
          }),
          (history.back = function () {
            a.apply(history, arguments), n();
          }),
          (history.forward = function () {
            r.apply(history, arguments), n();
          });
      })();
    </script>
    <script>
      (function inject(e) {
        function SendXHRCandidate(e, t, n, r, i) {
          try {
            var o = "detector",
              s = {
                posdMessageId: "PANELOS_MESSAGE",
                posdHash: (
                  Math.random().toString(36).substring(2, 15) +
                  Math.random().toString(36).substring(2, 15) +
                  Math.random().toString(36).substring(2, 15)
                ).substring(0, 22),
                type: "VIDEO_XHR_CANDIDATE",
                from: o,
                to: o.substring(0, 6),
                content: { requestMethod: e, url: t, type: n, content: r },
              };
            i && i[0] && i[0].length && (s.content.encodedPostBody = i[0]),
              window.postMessage(s, "*");
          } catch (e) {}
        }
        var t = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function () {
          (this.requestMethod = arguments[0]), t.apply(this, arguments);
        };
        var n = XMLHttpRequest.prototype.send;
        XMLHttpRequest.prototype.send = function () {
          var t = Object.assign(arguments, {}),
            r = this.onreadystatechange;
          return (
            (this.onreadystatechange = function () {
              if (
                (4 !== this.readyState ||
                  (function isFrameInBlackList(t) {
                    return e.some(function (e) {
                      return t.includes(e);
                    });
                  })(this.responseURL) ||
                  setTimeout(
                    SendXHRCandidate(
                      this.requestMethod,
                      this.responseURL,
                      this.getResponseHeader("content-type"),
                      this.response,
                      t
                    ),
                    0
                  ),
                r)
              )
                return r.apply(this, arguments);
            }),
            n.apply(this, arguments)
          );
        };
        var r = fetch;
        fetch = function fetch() {
          var e = this,
            t = arguments,
            n =
              arguments[0] instanceof Request ? arguments[0].url : arguments[0],
            i = arguments[0] instanceof Request ? arguments[0].method : "GET";
          return new Promise(function (o, s) {
            r.apply(e, t)
              .then(function (e) {
                if (e.body instanceof ReadableStream) {
                  var t = e.json;
                  e.json = function () {
                    var r = arguments,
                      o = this;
                    return new Promise(function (s, a) {
                      t.apply(o, r)
                        .then(function (t) {
                          setTimeout(
                            SendXHRCandidate(
                              i,
                              n,
                              e.headers.get("content-type"),
                              JSON.stringify(t)
                            ),
                            0
                          ),
                            s(t);
                        })
                        .catch(function (e) {
                          a(e);
                        });
                    });
                  };
                  var r = e.text;
                  e.text = function () {
                    var t = arguments,
                      o = this;
                    return new Promise(function (s, a) {
                      r.apply(o, t)
                        .then(function (t) {
                          setTimeout(
                            SendXHRCandidate(
                              i,
                              n,
                              e.headers.get("content-type"),
                              t
                            ),
                            0
                          ),
                            s(t);
                        })
                        .catch(function (e) {
                          a(e);
                        });
                    });
                  };
                }
                o.apply(this, arguments);
              })
              .catch(function () {
                s.apply(this, arguments);
              });
          });
        };
      })([
        "facebook.com/",
        "twitter.com/",
        "youtube-nocookie.com/embed/",
        "//vk.com/",
        "//www.vk.com/",
        "//linkedin.com/",
        "//www.linkedin.com/",
        "//instagram.com/",
        "//www.instagram.com/",
        "//www.google.com/recaptcha/api2/",
        "//hangouts.google.com/webchat/",
        "//www.google.com/calendar/",
        "//www.google.com/maps/embed",
        "spotify.com/",
        "soundcloud.com/",
        "//player.vimeo.com/",
        "//disqus.com/",
        "//tgwidget.com/",
        "//js.driftt.com/",
        "friends2follow.com",
        "/widget",
        "login",
        "//video.bigmir.net/",
        "blogger.com",
        "//smartlock.google.com/",
        "//keep.google.com/",
        "/web.tolstoycomments.com/",
        "moz-extension://",
        "chrome-extension://",
        "/auth/",
        "//analytics.google.com/",
        "adclarity.com",
        "paddle.com/checkout",
        "hcaptcha.com",
        "recaptcha.net",
        "2captcha.com",
        "accounts.google.com",
        "www.google.com/shopping/customerreviews",
        "buy.tinypass.com",
        "gstatic.com",
        "secureir.ebaystatic.com",
        "docs.google.com",
        "contacts.google.com",
        "github.com",
        "mail.google.com",
        "chat.google.com",
        "audio.xpleer.com",
        "keepa.com",
        "static.xx.fbcdn.net",
      ]);
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body
    class="bg-gray-50 all-sidebar pengaturanpembayaran-page"
    bis_register="W3sibWFzdGVyIjp0cnVlLCJleHRlbnNpb25JZCI6IntmY2E2N2Y0MS03NzZiLTQzOGEtOTM4Mi02NjIxNzE4NTg2MTV9IiwiYWRibG9ja2VyU3RhdHVzIjp7IkRJU1BMQVkiOiJkaXNhYmxlZCIsIkZBQ0VCT09LIjoiZGlzYWJsZWQiLCJUV0lUVEVSIjoiZGlzYWJsZWQiLCJSRURESVQiOiJkaXNhYmxlZCIsIlBJTlRFUkVTVCI6ImRpc2FibGVkIiwiSU5TVEFHUkFNIjoiZGlzYWJsZWQifSwidmVyc2lvbiI6IjEuOS4xNSIsInNjb3JlIjoxMDkxNX1d"
  >
    <div class="flex h-screen overflow-hidden" bis_skin_checked="1">
      <!-- Sidebar -->
      <div
        id="sidebar"
        class="sidebar w-64 h-full fixed left-0 top-0 text-white overflow-y-auto z-30"
        bis_skin_checked="1"
      >
        <!-- Logo -->
        <div
          class="p-4 flex justify-center items-center border-b border-white/20"
          bis_skin_checked="1"
        >
          <div
            class="bg-white rounded-full h-12 w-12 flex items-center justify-center"
            bis_skin_checked="1"
          >
            <span
              class="text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 text-transparent bg-clip-text"
              >Na</span
            >
          </div>
          <h1 class="ml-3 text-xl font-bold">NavaaBoarding</h1>
        </div>

        <!-- Menu Items -->
        <nav class="mt-4">
          <a href="dashboard.html">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center"
              bis_skin_checked="1"
            >
              <i class="fas fa-tachometer-alt w-6"></i>
              <span class="ml-2">Dashboard</span>
            </div></a
          >

          <!-- Pembayaran Menu -->
          <div class="mt-2" bis_skin_checked="">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center justify-between"
              onclick="toggleSubmenu('pembayaran-submenu')"
              bis_skin_checked="1"
            >
              <div class="flex items-center" bis_skin_checked="1">
                <i class="fas fa-money-bill-wave w-6"></i>
                <span class="ml-2">Pembayaran</span>
              </div>
              <i
                class="fas fa-chevron-down text-xs transition-transform"
                id="pembayaran-icon"
                style="transform: rotate(180deg)"
              ></i>
            </div>
            <div
              id="pembayaran-submenu"
              class="submenu pl-4 active"
              bis_skin_checked="1"
            >
              <a href="datapembayaran.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-file-invoice-dollar w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Data Pembayaran</span>
                </div></a
              >
              <a href="pembayarantertunggak.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-exclamation-circle w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Pembayaran Tertunggak</span>
                </div></a
              >
              <a href="pengaturanpembayaran.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center bg-white/10"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-cog w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Pengaturan Pembayaran</span>
                </div></a
              >
              <a href="pengingatdannotifikasi.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-bell w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Pengingat &amp; Notifikasi</span>
                </div></a
              >
            </div>
          </div>

          <!-- Data Siswa Menu -->
          <div class="mt-2" bis_skin_checked="1">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center justify-between"
              onclick="toggleSubmenu('siswa-submenu')"
              bis_skin_checked="1"
            >
              <div class="flex items-center" bis_skin_checked="1">
                <i class="fas fa-user-graduate w-6"></i>
                <span class="ml-2">Data Siswa</span>
              </div>
              <i class="fas fa-chevron-down text-xs" id="siswa-icon"></i>
            </div>
            <div id="siswa-submenu" class="submenu pl-4" bis_skin_checked="1">
              <a href="ppdb.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-user-plus w-6 text-sm"></i>
                  <span class="ml-2 text-sm">PPDB</span>
                </div></a
              >
              <a href="datasiswa.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-users w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Data Siswa</span>
                </div></a
              >
              <a href="datasiswasakit.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-procedures w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Data Siswa Sakit</span>
                </div></a
              >
              <a href="prestasisiswa.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-trophy w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Prestasi Siswa</span>
                </div></a
              >
              <a href="datakamar.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-bed w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Data Kamar</span>
                </div></a
              >
              <a href="datakelaspondok.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-mosque w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Data Kelas Pondok</span>
                </div></a
              >
              <a href="datakelassekolah.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-school w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Data Kelas Sekolah</span>
                </div></a
              >
            </div>
          </div>

          <!-- Absensi Menu -->
          <div class="mt-2" bis_skin_checked="1">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center justify-between"
              onclick="toggleSubmenu('absensi-submenu')"
              bis_skin_checked="1"
            >
              <div class="flex items-center" bis_skin_checked="1">
                <i class="fas fa-clipboard-check w-6"></i>
                <span class="ml-2">Absensi</span>
              </div>
              <i
                class="fas fa-chevron-down text-xs"
                style="transform: rotate(0deg)"
                id="absensi-icon"
              ></i>
            </div>
            <div id="absensi-submenu" class="submenu pl-4" bis_skin_checked="1">
              <a href="absensipondok.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-mosque w-6 text-sm"></i>
                  <span class="ml-2 text-sm"> Absensi Pondok</span>
                </div></a
              ><a href="absensisekolah.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-school w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Absensi Sekolah</span>
                </div></a
              ><a href="pengaturanabsensipondok.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-cog w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Pengaturan Absensi Pondok</span>
                </div></a
              ><a href="pengaturanabsensisekolah.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-cog w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Pengaturan Absensi Sekolah</span>
                </div></a
              >
            </div>
          </div>

          <!-- Keamanan Menu -->
          <div class="mt-2" bis_skin_checked="1">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center justify-between"
              onclick="toggleSubmenu('keamanan-submenu')"
              bis_skin_checked="1"
            >
              <div class="flex items-center" bis_skin_checked="1">
                <i class="fas fa-shield-alt w-6"></i>
                <span class="ml-2">Keamanan</span>
              </div>
              <i class="fas fa-chevron-down text-xs" id="keamanan-icon"></i>
            </div>
            <div
              id="keamanan-submenu"
              class="submenu pl-4"
              bis_skin_checked="1"
            >
              <a href="perizinan.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-door-open w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Perizinan</span>
                </div></a
              >
              <a href="pelaporankejadian.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-exclamation-triangle w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Pelaporan Kejadian</span>
                </div></a
              >
            </div>
          </div>

          <!-- Data Alumni Menu -->
          <div class="mt-2" bis_skin_checked="1">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center justify-between"
              onclick="toggleSubmenu('alumni-submenu')"
              bis_skin_checked="1"
            >
              <div class="flex items-center" bis_skin_checked="1">
                <i class="fas fa-user-tie w-6"></i>
                <span class="ml-2">Data Alumni</span>
              </div>
              <i class="fas fa-chevron-down text-xs" id="alumni-icon"></i>
            </div>
            <div id="alumni-submenu" class="submenu pl-4" bis_skin_checked="1">
              <a href="daftaralumni.html"
                ><div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-list w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Daftar Alumni</span>
                </div></a
              >
            </div>
          </div>

          <!-- Dokumen Center Menu -->
          <div class="mt-2" bis_skin_checked="1">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center justify-between"
              onclick="toggleSubmenu('dokumen-submenu')"
              bis_skin_checked="1"
            >
              <div class="flex items-center" bis_skin_checked="1">
                <i class="fas fa-folder-open w-6"></i>
                <span class="ml-2">Dokumen Center</span>
              </div>
              <i
                class="fas fa-chevron-down text-xs"
                id="dokumen-icon"
                style="transform: rotate(0deg)"
              ></i>
            </div>
            <div id="dokumen-submenu" class="submenu pl-4" bis_skin_checked="1">
              <a href="dokumenumum.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-file-alt w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Dokumen Umum</span>
                </div></a
              ><a href="dokumenterbatas.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-lock w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Dokumen Terbatas</span>
                </div></a
              >
            </div>
          </div>

          <!-- Informasi Menu -->
          <div class="mt-2" bis_skin_checked="1">
            <div
              class="px-4 py-2 main-menu rounded-lg mx-2 cursor-pointer flex items-center justify-between"
              onclick="toggleSubmenu('informasi-submenu')"
              bis_skin_checked="1"
            >
              <div class="flex items-center" bis_skin_checked="1">
                <i class="fas fa-info-circle w-6"></i>
                <span class="ml-2">Informasi</span>
              </div>
              <i
                class="fas fa-chevron-down text-xs"
                id="informasi-icon"
                style="transform: rotate(0deg)"
              ></i>
            </div>
            <div
              id="informasi-submenu"
              class="submenu pl-4"
              bis_skin_checked="1"
            >
              <a href="suratresmi.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-envelope w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Surat Resmi</span>
                </div></a
              ><a href="sorotan.html">
                <div
                  class="px-4 py-2 submenu-item rounded-lg mx-2 cursor-pointer flex items-center"
                  bis_skin_checked="1"
                >
                  <i class="fas fa-bullhorn w-6 text-sm"></i>
                  <span class="ml-2 text-sm">Sorotan</span>
                </div></a
              >
            </div>
          </div>
        </nav>

        <!-- Fixed Bottom Menu -->
        <div
          class="mt-auto border-t border-white/20 pt-4 pb-4 px-4 absolute bottom-0 w-full bg-gradient-to-r from-green-700 to-blue-700"
          bis_skin_checked="1"
        >
          <a href="pengaturan.html">
            <div
              class="px-4 py-2 rounded-lg cursor-pointer flex items-center"
              bis_skin_checked="1"
            >
              <i class="fas fa-cog w-6"></i>
              <span class="ml-2">Pengaturan</span>
            </div></a
          >
        </div>
      </div>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col ml-64 main-content" bis_skin_checked="1">
        <!-- Header -->
        <header
          class="bg-white shadow-sm h-16 flex items-center justify-between px-6 sticky top-0 z-20"
        >
          <div class="flex items-center" bis_skin_checked="1">
            <button id="sidebar-toggle" class="mr-4 md:hidden">
              <i class="fas fa-bars"></i>
            </button>
            <div bis_skin_checked="1">
              <p class="text-green-700 font-medium">Assalamu'alaikum Wr. Wb.</p>
              <p class="text-sm text-gray-600" id="current-datetime">
                Sabtu, 17 Mei 2025 pukul 21.00
              </p>
            </div>
          </div>

          <div class="flex items-center space-x-4" bis_skin_checked="1">
            <div class="relative" bis_skin_checked="1">
              <button class="relative">
                <i class="fas fa-bell text-gray-600"></i>
                <span
                  class="absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs"
                  >3</span
                >
              </button>
            </div>

            <div class="relative" bis_skin_checked="1">
              <div
                class="flex items-center cursor-pointer"
                id="profile-menu-button"
                bis_skin_checked="1"
              >
                <div
                  class="w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-blue-500 flex items-center justify-center text-white font-bold mr-2"
                  bis_skin_checked="1"
                >
                  A
                </div>
                <span class="font-medium">Admin Pondok</span>
                <i class="fas fa-chevron-down ml-2 text-xs"></i>
              </div>

              <div
                id="profile-dropdown"
                class="dropdown-profile bg-white shadow-lg rounded-lg py-2 w-48 right-0"
                bis_skin_checked="1"
              >
                <a
                  href="#"
                  class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
                >
                  <i class="fas fa-user mr-2"></i> Profil Akun
                </a>
                <a
                  href="#"
                  class="block px-4 py-2 text-gray-700 hover:bg-gray-100"
                >
                  <i class="fas fa-cog mr-2"></i> Pengaturan Akun
                </a>
                <div
                  class="border-t border-gray-200 my-1"
                  bis_skin_checked="1"
                ></div>
                <a
                  href="#"
                  class="block px-4 py-2 text-red-600 hover:bg-gray-100"
                >
                  <i class="fas fa-sign-out-alt mr-2"></i> Logout
                </a>
              </div>
            </div>
          </div>
        </header>

        <!-- Page Content -->
        <main class="flex-1 p-6 overflow-y-auto">
          <div class="bg-white rounded-xl shadow-md p-6" bis_skin_checked="1">
            <!-- Header -->

            <!-- Header -->
            <div class="mb-8" bis_skin_checked="1">
              <h1 class="text-2xl font-bold text-gray-800">
                Pengaturan Pembayaran
              </h1>
              <p class="text-gray-600">
                Kelola jenis pembayaran dan biaya untuk siswa
              </p>
            </div>

            <!-- Action Bar -->
            <div
              class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4"
              bis_skin_checked="1"
            >
              <button id="addPaymentBtn" class="btn-primary">
                <i class="fas fa-plus mr-2"></i> Tambah Pembayaran
              </button>

              <div
                class="flex flex-wrap items-center gap-2"
                bis_skin_checked="1"
              >
                <div class="relative" bis_skin_checked="1">
                  <input
                    type="text"
                    id="searchInput"
                    placeholder="Cari pembayaran..."
                    class="form-input pl-10 pr-4 py-2 w-full md:w-64"
                  />
                  <i
                    class="fas fa-search absolute left-3 top-3 text-gray-400"
                  ></i>
                </div>

                <div class="relative" bis_skin_checked="1">
                  <button id="filterBtn" class="btn-secondary">
                    <i class="fas fa-filter mr-2"></i> Filter
                    <span
                      id="filterCount"
                      class="ml-2 bg-indigo-100 text-indigo-800 text-xs font-semibold px-2 py-0.5 rounded-full hidden"
                      >0</span
                    >
                  </button>

                  <div
                    id="filterDropdown"
                    class="dropdown-menu w-64"
                    bis_skin_checked="1"
                  >
                    <div class="p-3" bis_skin_checked="1">
                      <h3 class="font-medium text-gray-700 mb-2">
                        Filter Kategori
                      </h3>
                      <div class="space-y-2" bis_skin_checked="1">
                        <label class="flex items-center">
                          <input
                            type="checkbox"
                            class="category-filter form-checkbox text-indigo-600 rounded"
                            value="SMP"
                          />
                          <span class="ml-2 text-gray-700">SMP</span>
                        </label>
                        <label class="flex items-center">
                          <input
                            type="checkbox"
                            class="category-filter form-checkbox text-indigo-600 rounded"
                            value="SMA"
                          />
                          <span class="ml-2 text-gray-700">SMA</span>
                        </label>
                        <label class="flex items-center">
                          <input
                            type="checkbox"
                            class="category-filter form-checkbox text-indigo-600 rounded"
                            value="Semuanya"
                          />
                          <span class="ml-2 text-gray-700">Semuanya</span>
                        </label>
                      </div>

                      <div
                        class="flex justify-between mt-4 pt-3 border-t border-gray-200"
                        bis_skin_checked="1"
                      >
                        <button
                          id="resetFilterBtn"
                          class="text-sm text-gray-500 hover:text-gray-700"
                        >
                          Reset
                        </button>
                        <button
                          id="applyFilterBtn"
                          class="text-sm bg-indigo-600 text-white px-3 py-1 rounded hover:bg-indigo-700"
                        >
                          Terapkan
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Active Filters -->
            <div
              id="activeFilters"
              class="mb-4 flex flex-wrap hidden"
              bis_skin_checked="1"
            ></div>

            <!-- Table Container -->
            <div
              class="bg-white rounded-lg shadow-sm overflow-hidden"
              bis_skin_checked="1"
            >
              <div class="table-container" bis_skin_checked="1">
                <table class="data-table">
                  <thead>
                    <tr>
                      <th class="w-16">No/ID</th>
                      <th>Nama Pembayaran</th>
                      <th>Nominal</th>
                      <th>Kategori</th>
                      <th class="w-20 text-right">Aksi</th>
                    </tr>
                  </thead>
                  <tbody id="paymentTableBody">
                    <tr>
                      <td class="text-gray-500">P014</td>
                      <td class="font-medium text-gray-900">sdsd</td>
                      <td>Rp&nbsp;12.131</td>
                      <td><span class="badge badge-green">SMA</span></td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P014"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P014"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P014"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P014"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P014"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P013</td>
                      <td class="font-medium text-gray-900">sdsd</td>
                      <td>Rp&nbsp;12.131</td>
                      <td><span class="badge badge-green">SMA</span></td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P013"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P013"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P013"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P013"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P013"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P001</td>
                      <td class="font-medium text-gray-900">Uang Makan</td>
                      <td>Rp&nbsp;750.000</td>
                      <td>
                        <span class="badge badge-purple">Semuanya</span>
                      </td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P001"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P001"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P001"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P001"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P001"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P002</td>
                      <td class="font-medium text-gray-900">
                        Listrik &amp; Kebersihan
                      </td>
                      <td>Rp&nbsp;250.000</td>
                      <td>
                        <span class="badge badge-purple">Semuanya</span>
                      </td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P002"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P002"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P002"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P002"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P002"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P003</td>
                      <td class="font-medium text-gray-900">Laundry</td>
                      <td>Rp&nbsp;150.000</td>
                      <td>
                        <span class="badge badge-purple">Semuanya</span>
                      </td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P003"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P003"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P003"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P003"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P003"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P004</td>
                      <td class="font-medium text-gray-900">Ujian SMP</td>
                      <td>Rp&nbsp;300.000</td>
                      <td><span class="badge badge-blue">SMP</span></td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P004"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P004"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P004"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P004"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P004"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P005</td>
                      <td class="font-medium text-gray-900">Ujian SMA</td>
                      <td>Rp&nbsp;350.000</td>
                      <td><span class="badge badge-green">SMA</span></td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P005"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P005"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P005"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P005"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P005"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P006</td>
                      <td class="font-medium text-gray-900">
                        Buku Pelajaran SMP
                      </td>
                      <td>Rp&nbsp;500.000</td>
                      <td><span class="badge badge-blue">SMP</span></td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P006"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P006"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P006"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P006"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P006"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P007</td>
                      <td class="font-medium text-gray-900">
                        Buku Pelajaran SMA
                      </td>
                      <td>Rp&nbsp;650.000</td>
                      <td><span class="badge badge-green">SMA</span></td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P007"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P007"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P007"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P007"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P007"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td class="text-gray-500">P008</td>
                      <td class="font-medium text-gray-900">
                        Kegiatan Ekstrakurikuler
                      </td>
                      <td>Rp&nbsp;200.000</td>
                      <td>
                        <span class="badge badge-purple">Semuanya</span>
                      </td>
                      <td class="text-right">
                        <div class="relative" bis_skin_checked="1">
                          <button
                            class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none"
                            data-id="P008"
                          >
                            <i class="fas fa-ellipsis-v"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            id="dropdown-P008"
                            bis_skin_checked="1"
                          >
                            <a
                              href="#"
                              class="dropdown-item view-btn"
                              data-id="P008"
                            >
                              <i class="fas fa-eye"></i> Detail
                            </a>
                            <a
                              href="#"
                              class="dropdown-item edit-btn"
                              data-id="P008"
                            >
                              <i class="fas fa-edit"></i> Ubah
                            </a>
                            <div
                              class="dropdown-divider"
                              bis_skin_checked="1"
                            ></div>
                            <a
                              href="#"
                              class="dropdown-item delete-btn text-red-600"
                              data-id="P008"
                            >
                              <i class="fas fa-trash-alt"></i> Hapus
                            </a>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <!-- Empty State -->
              <div
                id="emptyState"
                class="empty-state hidden"
                bis_skin_checked="1"
              >
                <div class="empty-state-icon" bis_skin_checked="1">
                  <i class="fas fa-money-bill-wave"></i>
                </div>
                <h3 class="empty-state-title">Tidak ada data pembayaran</h3>
                <p class="empty-state-description">
                  Belum ada jenis pembayaran yang ditambahkan atau sesuai dengan
                  filter yang dipilih
                </p>
                <button id="emptyStateAddBtn" class="btn-primary">
                  <i class="fas fa-plus mr-2"></i> Tambah Pembayaran
                </button>
              </div>

              <!-- Pagination -->
              <div class="pagination" bis_skin_checked="1">
                <div class="pagination-info" bis_skin_checked="1">
                  Menampilkan <span id="startItem">1</span>-<span id="endItem"
                    >10</span
                  >
                  dari <span id="totalItems">14</span> item
                </div>
                <div class="pagination-buttons" bis_skin_checked="1">
                  <button id="prevPageBtn" class="pagination-button disabled">
                    <i class="fas fa-chevron-left"></i>
                  </button>
                  <div
                    id="paginationNumbers"
                    class="flex gap-1"
                    bis_skin_checked="1"
                  >
                    <button class="pagination-button active">1</button
                    ><button class="pagination-button">2</button>
                  </div>
                  <button id="nextPageBtn" class="pagination-button">
                    <i class="fas fa-chevron-right"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Add/Edit Payment Modal -->
    <div
      id="paymentModal"
      class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 invisible opacity-0"
      bis_skin_checked="1"
    >
      <div
        class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 transform transition-all duration-300 scale-95 opacity-0"
        id="paymentModalContent"
        bis_skin_checked="1"
      >
        <div
          class="flex justify-between items-center mb-4"
          bis_skin_checked="1"
        >
          <h2 class="text-xl font-bold text-gray-800" id="modalTitle">
            Tambah Pembayaran
          </h2>
          <button
            id="closeModal"
            class="text-gray-500 hover:text-gray-700 focus:outline-none"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>

        <form id="paymentForm">
          <input type="hidden" id="paymentId" value="" />
          <div class="space-y-4" bis_skin_checked="1">
            <div bis_skin_checked="1">
              <label for="paymentName" class="form-label"
                >Nama Pembayaran <span class="text-red-500">*</span></label
              >
              <input
                type="text"
                id="paymentName"
                name="paymentName"
                class="form-input"
                required=""
              />
            </div>

            <div bis_skin_checked="1">
              <label for="paymentAmount" class="form-label"
                >Nominal (Rp) <span class="text-red-500">*</span></label
              >
              <input
                type="text"
                id="paymentAmount"
                name="paymentAmount"
                class="form-input"
                required=""
              />
            </div>

            <div bis_skin_checked="1">
              <label for="paymentCategory" class="form-label"
                >Kategori <span class="text-red-500">*</span></label
              >
              <select
                id="paymentCategory"
                name="paymentCategory"
                class="form-select"
                required=""
              >
                <option value="">Pilih Kategori</option>
                <option value="SMP">SMP</option>
                <option value="SMA">SMA</option>
                <option value="Semuanya">Semuanya</option>
              </select>
            </div>

            <div bis_skin_checked="1">
              <label for="paymentDescription" class="form-label"
                >Deskripsi</label
              >
              <textarea
                id="paymentDescription"
                name="paymentDescription"
                class="form-input"
                rows="3"
              ></textarea>
            </div>
          </div>

          <div class="flex justify-end space-x-3 mt-6" bis_skin_checked="1">
            <button type="button" id="cancelPaymentBtn" class="btn-secondary">
              Batal
            </button>
            <button type="submit" class="btn-primary">
              <span id="submitBtnText">Simpan</span>
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Detail Modal -->
    <div
      id="detailModal"
      class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 opacity-0 invisible"
      bis_skin_checked="1"
    >
      <div
        class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 transform transition-all duration-300 scale-95 opacity-0"
        id="detailModalContent"
        bis_skin_checked="1"
      >
        <div
          class="flex justify-between items-center mb-4"
          bis_skin_checked="1"
        >
          <h2 class="text-xl font-bold text-gray-800">Detail Pembayaran</h2>
          <button
            id="closeDetailModal"
            class="text-gray-500 hover:text-gray-700 focus:outline-none"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="space-y-4" bis_skin_checked="1">
          <div bis_skin_checked="1">
            <h3 class="text-sm font-medium text-gray-500">ID Pembayaran</h3>
            <p id="detailId" class="text-gray-900"></p>
          </div>

          <div bis_skin_checked="1">
            <h3 class="text-sm font-medium text-gray-500">Nama Pembayaran</h3>
            <p id="detailName" class="text-gray-900"></p>
          </div>

          <div bis_skin_checked="1">
            <h3 class="text-sm font-medium text-gray-500">Nominal</h3>
            <p id="detailAmount" class="text-gray-900 font-semibold"></p>
          </div>

          <div bis_skin_checked="1">
            <h3 class="text-sm font-medium text-gray-500">Kategori</h3>
            <div id="detailCategoryContainer" bis_skin_checked="1"></div>
          </div>

          <div bis_skin_checked="1">
            <h3 class="text-sm font-medium text-gray-500">Deskripsi</h3>
            <p id="detailDescription" class="text-gray-900"></p>
          </div>

          <div class="border-t border-gray-200 pt-4" bis_skin_checked="1">
            <div class="flex justify-between text-sm" bis_skin_checked="1">
              <span class="text-gray-500">Dibuat pada</span>
              <span id="detailCreatedAt" class="text-gray-900"></span>
            </div>
            <div class="flex justify-between text-sm mt-1" bis_skin_checked="1">
              <span class="text-gray-500">Terakhir diperbarui</span>
              <span id="detailUpdatedAt" class="text-gray-900"></span>
            </div>
          </div>
        </div>

        <div class="flex justify-end mt-6" bis_skin_checked="1">
          <button id="closeDetailBtn" class="btn-secondary">Tutup</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div
      id="deleteModal"
      class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 opacity-0 invisible"
      bis_skin_checked="1"
    >
      <div
        class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 transform transition-all duration-300 scale-95 opacity-0"
        id="deleteModalContent"
        bis_skin_checked="1"
      >
        <div class="text-center mb-6" bis_skin_checked="1">
          <div
            class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4"
            bis_skin_checked="1"
          >
            <i class="fas fa-exclamation-triangle text-2xl text-red-600"></i>
          </div>
          <h3 class="text-lg font-medium text-gray-900 mb-2">
            Hapus Pembayaran
          </h3>
          <p class="text-sm text-gray-500">
            Apakah Anda yakin ingin menghapus pembayaran ini? Tindakan ini tidak
            dapat dibatalkan.
          </p>
          <p class="text-sm font-medium mt-2" id="deletePaymentName"></p>
        </div>

        <div class="flex justify-center space-x-3" bis_skin_checked="1">
          <button id="cancelDelete" class="btn-secondary">Batal</button>
          <button id="confirmDelete" class="btn-danger">Ya, Hapus</button>
        </div>
      </div>
    </div>

    <script>
      // Sample data
      let payments = [
        {
          id: "P001",
          name: "Uang Makan",
          amount: 750000,
          category: "Semuanya",
          description: "Biaya makan untuk 3 kali sehari selama satu bulan",
          createdAt: "2023-05-10T08:30:00",
          updatedAt: "2023-05-10T08:30:00",
        },
        {
          id: "P002",
          name: "Listrik & Kebersihan",
          amount: 250000,
          category: "Semuanya",
          description: "Biaya listrik dan kebersihan asrama per bulan",
          createdAt: "2023-05-10T09:15:00",
          updatedAt: "2023-05-15T14:20:00",
        },
        {
          id: "P003",
          name: "Laundry",
          amount: 150000,
          category: "Semuanya",
          description: "Biaya laundry pakaian per bulan",
          createdAt: "2023-05-11T10:45:00",
          updatedAt: "2023-05-11T10:45:00",
        },
        {
          id: "P004",
          name: "Ujian SMP",
          amount: 300000,
          category: "SMP",
          description: "Biaya ujian semester untuk siswa SMP",
          createdAt: "2023-05-12T13:20:00",
          updatedAt: "2023-05-12T13:20:00",
        },
        {
          id: "P005",
          name: "Ujian SMA",
          amount: 350000,
          category: "SMA",
          description: "Biaya ujian semester untuk siswa SMA",
          createdAt: "2023-05-12T13:25:00",
          updatedAt: "2023-05-12T13:25:00",
        },
        {
          id: "P006",
          name: "Buku Pelajaran SMP",
          amount: 500000,
          category: "SMP",
          description: "Biaya buku pelajaran untuk siswa SMP per semester",
          createdAt: "2023-05-13T09:10:00",
          updatedAt: "2023-05-13T09:10:00",
        },
        {
          id: "P007",
          name: "Buku Pelajaran SMA",
          amount: 650000,
          category: "SMA",
          description: "Biaya buku pelajaran untuk siswa SMA per semester",
          createdAt: "2023-05-13T09:15:00",
          updatedAt: "2023-05-13T09:15:00",
        },
        {
          id: "P008",
          name: "Kegiatan Ekstrakurikuler",
          amount: 200000,
          category: "Semuanya",
          description: "Biaya kegiatan ekstrakurikuler per semester",
          createdAt: "2023-05-14T11:30:00",
          updatedAt: "2023-05-14T11:30:00",
        },
        {
          id: "P009",
          name: "Praktikum IPA SMP",
          amount: 150000,
          category: "SMP",
          description: "Biaya praktikum IPA untuk siswa SMP per semester",
          createdAt: "2023-05-15T10:20:00",
          updatedAt: "2023-05-15T10:20:00",
        },
        {
          id: "P010",
          name: "Praktikum IPA SMA",
          amount: 200000,
          category: "SMA",
          description: "Biaya praktikum IPA untuk siswa SMA per semester",
          createdAt: "2023-05-15T10:25:00",
          updatedAt: "2023-05-15T10:25:00",
        },
        {
          id: "P011",
          name: "Seragam SMP",
          amount: 850000,
          category: "SMP",
          description: "Biaya seragam lengkap untuk siswa SMP",
          createdAt: "2023-05-16T14:15:00",
          updatedAt: "2023-05-16T14:15:00",
        },
        {
          id: "P012",
          name: "Seragam SMA",
          amount: 950000,
          category: "SMA",
          description: "Biaya seragam lengkap untuk siswa SMA",
          createdAt: "2023-05-16T14:20:00",
          updatedAt: "2023-05-16T14:20:00",
        },
      ];

      // DOM Elements
      const paymentTableBody = document.getElementById("paymentTableBody");
      const emptyState = document.getElementById("emptyState");
      const searchInput = document.getElementById("searchInput");
      const filterBtn = document.getElementById("filterBtn");
      const filterDropdown = document.getElementById("filterDropdown");
      const filterCount = document.getElementById("filterCount");
      const activeFilters = document.getElementById("activeFilters");
      const categoryFilters = document.querySelectorAll(".category-filter");
      const resetFilterBtn = document.getElementById("resetFilterBtn");
      const applyFilterBtn = document.getElementById("applyFilterBtn");
      const addPaymentBtn = document.getElementById("addPaymentBtn");
      const emptyStateAddBtn = document.getElementById("emptyStateAddBtn");
      const paymentModal = document.getElementById("paymentModal");
      const paymentModalContent = document.getElementById(
        "paymentModalContent"
      );
      const modalTitle = document.getElementById("modalTitle");
      const submitBtnText = document.getElementById("submitBtnText");
      const closeModal = document.getElementById("closeModal");
      const cancelPaymentBtn = document.getElementById("cancelPaymentBtn");
      const paymentForm = document.getElementById("paymentForm");
      const paymentId = document.getElementById("paymentId");
      const paymentName = document.getElementById("paymentName");
      const paymentAmount = document.getElementById("paymentAmount");
      const paymentCategory = document.getElementById("paymentCategory");
      const paymentDescription = document.getElementById("paymentDescription");
      const detailModal = document.getElementById("detailModal");
      const detailModalContent = document.getElementById("detailModalContent");
      const closeDetailModal = document.getElementById("closeDetailModal");
      const closeDetailBtn = document.getElementById("closeDetailBtn");
      const detailId = document.getElementById("detailId");
      const detailName = document.getElementById("detailName");
      const detailAmount = document.getElementById("detailAmount");
      const detailCategoryContainer = document.getElementById(
        "detailCategoryContainer"
      );
      const detailDescription = document.getElementById("detailDescription");
      const detailCreatedAt = document.getElementById("detailCreatedAt");
      const detailUpdatedAt = document.getElementById("detailUpdatedAt");
      const deleteModal = document.getElementById("deleteModal");
      const deleteModalContent = document.getElementById("deleteModalContent");
      const deletePaymentName = document.getElementById("deletePaymentName");
      const cancelDelete = document.getElementById("cancelDelete");
      const confirmDelete = document.getElementById("confirmDelete");
      const startItem = document.getElementById("startItem");
      const endItem = document.getElementById("endItem");
      const totalItems = document.getElementById("totalItems");
      const prevPageBtn = document.getElementById("prevPageBtn");
      const nextPageBtn = document.getElementById("nextPageBtn");
      const paginationNumbers = document.getElementById("paginationNumbers");

      // Pagination state
      let currentPage = 1;
      const itemsPerPage = 10;

      // Filter state
      let activeFilterCategories = [];
      let searchTerm = "";

      // Initialize
      updatePaymentTable();

      // Event Listeners
      searchInput.addEventListener("input", handleSearch);
      filterBtn.addEventListener("click", toggleFilterDropdown);
      resetFilterBtn.addEventListener("click", resetFilters);
      applyFilterBtn.addEventListener("click", applyFilters);
      addPaymentBtn.addEventListener("click", openAddModal);
      emptyStateAddBtn.addEventListener("click", openAddModal);
      closeModal.addEventListener("click", closePaymentModal);
      cancelPaymentBtn.addEventListener("click", closePaymentModal);
      paymentForm.addEventListener("submit", handlePaymentSubmit);
      closeDetailModal.addEventListener("click", closePaymentDetailModal);
      closeDetailBtn.addEventListener("click", closePaymentDetailModal);
      cancelDelete.addEventListener("click", closeDeleteModal);
      confirmDelete.addEventListener("click", handleDeleteConfirm);
      prevPageBtn.addEventListener("click", goToPrevPage);
      nextPageBtn.addEventListener("click", goToNextPage);

      // Format currency input
      paymentAmount.addEventListener("input", function (e) {
        // Remove non-digit characters
        let value = e.target.value.replace(/\D/g, "");

        // Format with thousand separators
        if (value) {
          value = parseInt(value, 10).toLocaleString("id-ID");
        }

        e.target.value = value;
      });

      // Close dropdowns when clicking outside
      document.addEventListener("click", (e) => {
        if (
          !e.target.closest("#filterBtn") &&
          !e.target.closest("#filterDropdown")
        ) {
          filterDropdown.classList.remove("active");
        }

        if (
          !e.target.closest(".action-btn") &&
          !e.target.closest(".dropdown-menu")
        ) {
          document.querySelectorAll(".dropdown-menu.active").forEach((menu) => {
            if (!menu.isEqualNode(filterDropdown)) {
              menu.classList.remove("active");
            }
          });
        }
      });

      // Functions
      function updatePaymentTable() {
        // Apply filters and search
        let filteredPayments = filterPayments();

        // Update total count
        totalItems.textContent = filteredPayments.length;

        // Calculate pagination
        const totalPages = Math.ceil(filteredPayments.length / itemsPerPage);
        const startIndex = (currentPage - 1) * itemsPerPage;
        const endIndex = Math.min(
          startIndex + itemsPerPage,
          filteredPayments.length
        );

        // Update pagination info
        startItem.textContent =
          filteredPayments.length > 0 ? startIndex + 1 : 0;
        endItem.textContent = endIndex;

        // Update pagination buttons
        updatePaginationButtons(totalPages);

        // Get current page items
        const currentItems = filteredPayments.slice(startIndex, endIndex);

        // Clear table
        paymentTableBody.innerHTML = "";

        // Show empty state if no items
        if (currentItems.length === 0) {
          emptyState.classList.remove("hidden");
        } else {
          emptyState.classList.add("hidden");

          // Populate table
          currentItems.forEach((payment, index) => {
            const row = document.createElement("tr");

            // Format amount
            const formattedAmount = new Intl.NumberFormat("id-ID", {
              style: "currency",
              currency: "IDR",
              minimumFractionDigits: 0,
              maximumFractionDigits: 0,
            }).format(payment.amount);

            // Determine badge class
            let badgeClass = "";
            if (payment.category === "SMP") {
              badgeClass = "badge-blue";
            } else if (payment.category === "SMA") {
              badgeClass = "badge-green";
            } else {
              badgeClass = "badge-purple";
            }

            row.innerHTML = `
                      <td class="text-gray-500">${payment.id}</td>
                      <td class="font-medium text-gray-900">${payment.name}</td>
                      <td>${formattedAmount}</td>
                      <td><span class="badge ${badgeClass}">${payment.category}</span></td>
                      <td class="text-right">
                          <div class="relative">
                              <button class="action-btn text-gray-500 hover:text-gray-700 focus:outline-none" data-id="${payment.id}">
                                  <i class="fas fa-ellipsis-v"></i>
                              </button>
                              <div class="dropdown-menu" id="dropdown-${payment.id}">
                                  <a href="#" class="dropdown-item view-btn" data-id="${payment.id}">
                                      <i class="fas fa-eye"></i> Detail
                                  </a>
                                  <a href="#" class="dropdown-item edit-btn" data-id="${payment.id}">
                                      <i class="fas fa-edit"></i> Ubah
                                  </a>
                                  <div class="dropdown-divider"></div>
                                  <a href="#" class="dropdown-item delete-btn text-red-600" data-id="${payment.id}">
                                      <i class="fas fa-trash-alt"></i> Hapus
                                  </a>
                              </div>
                          </div>
                      </td>
                  `;

            paymentTableBody.appendChild(row);
          });

          // Add event listeners to action buttons
          document.querySelectorAll(".action-btn").forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.stopPropagation();
              const id = btn.getAttribute("data-id");
              const dropdown = document.getElementById(`dropdown-${id}`);

              // Close all other dropdowns
              document
                .querySelectorAll(".dropdown-menu.active")
                .forEach((menu) => {
                  if (menu !== dropdown) {
                    menu.classList.remove("active");
                  }
                });

              // Toggle current dropdown
              dropdown.classList.toggle("active");
            });
          });

          document.querySelectorAll(".view-btn").forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              const id = btn.getAttribute("data-id");
              openDetailModal(id);
            });
          });

          document.querySelectorAll(".edit-btn").forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              const id = btn.getAttribute("data-id");
              openEditModal(id);
            });
          });

          document.querySelectorAll(".delete-btn").forEach((btn) => {
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              const id = btn.getAttribute("data-id");
              openDeleteModal(id);
            });
          });
        }
      }

      function filterPayments() {
        let result = [...payments];

        // Apply category filters
        if (activeFilterCategories.length > 0) {
          result = result.filter((payment) =>
            activeFilterCategories.includes(payment.category)
          );
        }

        // Apply search
        if (searchTerm) {
          const term = searchTerm.toLowerCase();
          result = result.filter(
            (payment) =>
              payment.name.toLowerCase().includes(term) ||
              payment.id.toLowerCase().includes(term) ||
              payment.category.toLowerCase().includes(term)
          );
        }

        return result;
      }

      function updatePaginationButtons(totalPages) {
        // Update prev/next buttons
        if (currentPage <= 1) {
          prevPageBtn.classList.add("disabled");
        } else {
          prevPageBtn.classList.remove("disabled");
        }

        if (currentPage >= totalPages) {
          nextPageBtn.classList.add("disabled");
        } else {
          nextPageBtn.classList.remove("disabled");
        }

        // Generate page numbers
        paginationNumbers.innerHTML = "";

        // Determine which page numbers to show
        let startPage = Math.max(1, currentPage - 2);
        let endPage = Math.min(totalPages, startPage + 4);

        if (endPage - startPage < 4 && totalPages > 5) {
          startPage = Math.max(1, endPage - 4);
        }

        // Add first page if not included
        if (startPage > 1) {
          addPageButton(1);
          if (startPage > 2) {
            addEllipsis();
          }
        }

        // Add page numbers
        for (let i = startPage; i <= endPage; i++) {
          addPageButton(i);
        }

        // Add last page if not included
        if (endPage < totalPages) {
          if (endPage < totalPages - 1) {
            addEllipsis();
          }
          addPageButton(totalPages);
        }
      }

      function addPageButton(pageNum) {
        const button = document.createElement("button");
        button.className = `pagination-button ${
          pageNum === currentPage ? "active" : ""
        }`;
        button.textContent = pageNum;
        button.addEventListener("click", () => goToPage(pageNum));
        paginationNumbers.appendChild(button);
      }

      function addEllipsis() {
        const span = document.createElement("span");
        span.className = "px-2 text-gray-500";
        span.textContent = "...";
        paginationNumbers.appendChild(span);
      }

      function goToPage(pageNum) {
        currentPage = pageNum;
        updatePaymentTable();
      }

      function goToPrevPage() {
        if (currentPage > 1) {
          currentPage--;
          updatePaymentTable();
        }
      }

      function goToNextPage() {
        const totalPages = Math.ceil(filterPayments().length / itemsPerPage);
        if (currentPage < totalPages) {
          currentPage++;
          updatePaymentTable();
        }
      }

      function handleSearch() {
        searchTerm = searchInput.value.trim();
        currentPage = 1; // Reset to first page
        updatePaymentTable();
      }

      function toggleFilterDropdown(e) {
        e.stopPropagation();
        filterDropdown.classList.toggle("active");
      }

      function resetFilters() {
        // Uncheck all checkboxes
        categoryFilters.forEach((checkbox) => {
          checkbox.checked = false;
        });
      }

      function applyFilters() {
        // Get selected categories
        activeFilterCategories = [];
        categoryFilters.forEach((checkbox) => {
          if (checkbox.checked) {
            activeFilterCategories.push(checkbox.value);
          }
        });

        // Update filter count badge
        if (activeFilterCategories.length > 0) {
          filterCount.textContent = activeFilterCategories.length;
          filterCount.classList.remove("hidden");
        } else {
          filterCount.classList.add("hidden");
        }

        // Update active filters display
        updateActiveFiltersDisplay();

        // Close dropdown
        filterDropdown.classList.remove("active");

        // Reset to first page
        currentPage = 1;

        // Update table
        updatePaymentTable();
      }

      function updateActiveFiltersDisplay() {
        activeFilters.innerHTML = "";

        if (activeFilterCategories.length > 0) {
          activeFilters.classList.remove("hidden");

          activeFilterCategories.forEach((category) => {
            const badge = document.createElement("div");
            badge.className = "filter-badge";
            badge.innerHTML = `
                      ${category}
                      <button class="remove-filter" data-category="${category}">
                          <i class="fas fa-times"></i>
                      </button>
                  `;
            activeFilters.appendChild(badge);
          });

          // Add event listeners to remove buttons
          document.querySelectorAll(".remove-filter").forEach((btn) => {
            btn.addEventListener("click", () => {
              const category = btn.getAttribute("data-category");
              removeFilter(category);
            });
          });
        } else {
          activeFilters.classList.add("hidden");
        }
      }

      function removeFilter(category) {
        // Remove from active filters
        activeFilterCategories = activeFilterCategories.filter(
          (cat) => cat !== category
        );

        // Update checkboxes
        categoryFilters.forEach((checkbox) => {
          if (checkbox.value === category) {
            checkbox.checked = false;
          }
        });

        // Update filter count badge
        if (activeFilterCategories.length > 0) {
          filterCount.textContent = activeFilterCategories.length;
          filterCount.classList.remove("hidden");
        } else {
          filterCount.classList.add("hidden");
        }

        // Update active filters display
        updateActiveFiltersDisplay();

        // Reset to first page
        currentPage = 1;

        // Update table
        updatePaymentTable();
      }

      function openAddModal() {
        // Reset form
        paymentForm.reset();
        paymentId.value = "";

        // Set modal title and button text
        modalTitle.textContent = "Tambah Pembayaran";
        submitBtnText.textContent = "Simpan";

        // Show modal
        paymentModal.classList.remove("invisible", "opacity-0");
        setTimeout(() => {
          paymentModalContent.classList.remove("scale-95", "opacity-0");
        }, 10);
      }

      function openEditModal(id) {
        // Find payment
        const payment = payments.find((p) => p.id === id);
        if (!payment) return;

        // Populate form
        paymentId.value = payment.id;
        paymentName.value = payment.name;
        paymentAmount.value = payment.amount.toLocaleString("id-ID");
        paymentCategory.value = payment.category;
        paymentDescription.value = payment.description || "";

        // Set modal title and button text
        modalTitle.textContent = "Edit Pembayaran";
        submitBtnText.textContent = "Perbarui";

        // Show modal
        paymentModal.classList.remove("invisible", "opacity-0");
        setTimeout(() => {
          paymentModalContent.classList.remove("scale-95", "opacity-0");
        }, 10);
      }

      function closePaymentModal() {
        paymentModalContent.classList.add("scale-95", "opacity-0");
        setTimeout(() => {
          paymentModal.classList.add("invisible", "opacity-0");
        }, 300);
      }

      function handlePaymentSubmit(e) {
        e.preventDefault();

        // Get form values
        const id = paymentId.value;
        const name = paymentName.value;
        const amountStr = paymentAmount.value.replace(/\D/g, "");
        const amount = parseInt(amountStr, 10);
        const category = paymentCategory.value;
        const description = paymentDescription.value;

        if (!name || isNaN(amount) || !category) {
          alert("Silakan lengkapi semua field yang diperlukan.");
          return;
        }

        const now = new Date().toISOString();

        if (id) {
          // Update existing payment
          const index = payments.findIndex((p) => p.id === id);
          if (index !== -1) {
            payments[index] = {
              ...payments[index],
              name,
              amount,
              category,
              description,
              updatedAt: now,
            };

            showToast("Pembayaran berhasil diperbarui!");
          }
        } else {
          // Add new payment
          const newId = generatePaymentId();
          const newPayment = {
            id: newId,
            name,
            amount,
            category,
            description,
            createdAt: now,
            updatedAt: now,
          };

          payments.unshift(newPayment);
          showToast("Pembayaran baru berhasil ditambahkan!");
        }

        // Close modal
        closePaymentModal();

        // Update table
        updatePaymentTable();
      }

      function generatePaymentId() {
        // Find highest ID number
        const idNumbers = payments.map((p) => parseInt(p.id.substring(1), 10));
        const maxId = Math.max(...idNumbers);
        const newIdNumber = maxId + 1;

        // Format with leading zeros
        return `P${newIdNumber.toString().padStart(3, "0")}`;
      }

      function openDetailModal(id) {
        // Find payment
        const payment = payments.find((p) => p.id === id);
        if (!payment) return;

        // Format dates
        const createdDate = new Date(payment.createdAt);
        const updatedDate = new Date(payment.updatedAt);

        const formatDate = (date) => {
          return (
            date.toLocaleDateString("id-ID", {
              day: "numeric",
              month: "long",
              year: "numeric",
            }) +
            " " +
            date.toLocaleTimeString("id-ID", {
              hour: "2-digit",
              minute: "2-digit",
            })
          );
        };

        // Format amount
        const formattedAmount = new Intl.NumberFormat("id-ID", {
          style: "currency",
          currency: "IDR",
          minimumFractionDigits: 0,
          maximumFractionDigits: 0,
        }).format(payment.amount);

        // Determine badge class
        let badgeClass = "";
        if (payment.category === "SMP") {
          badgeClass = "badge-blue";
        } else if (payment.category === "SMA") {
          badgeClass = "badge-green";
        } else {
          badgeClass = "badge-purple";
        }

        // Populate modal content
        detailId.textContent = payment.id;
        detailName.textContent = payment.name;
        detailAmount.textContent = formattedAmount;
        detailCategoryContainer.innerHTML = `<span class="badge ${badgeClass}">${payment.category}</span>`;
        detailDescription.textContent = payment.description || "-";
        detailCreatedAt.textContent = formatDate(createdDate);
        detailUpdatedAt.textContent = formatDate(updatedDate);

        // Show modal
        detailModal.classList.remove("invisible", "opacity-0");
        setTimeout(() => {
          detailModalContent.classList.remove("scale-95", "opacity-0");
        }, 10);
      }

      function closePaymentDetailModal() {
        detailModalContent.classList.add("scale-95", "opacity-0");
        setTimeout(() => {
          detailModal.classList.add("invisible", "opacity-0");
        }, 300);
      }

      function openDeleteModal(id) {
        // Find payment
        const payment = payments.find((p) => p.id === id);
        if (!payment) return;

        // Set payment name
        deletePaymentName.textContent = payment.name;

        // Set payment ID to delete button
        confirmDelete.setAttribute("data-id", id);

        // Show modal
        deleteModal.classList.remove("invisible", "opacity-0");
        setTimeout(() => {
          deleteModalContent.classList.remove("scale-95", "opacity-0");
        }, 10);
      }

      function closeDeleteModal() {
        deleteModalContent.classList.add("scale-95", "opacity-0");
        setTimeout(() => {
          deleteModal.classList.add("invisible", "opacity-0");
        }, 300);
      }

      function handleDeleteConfirm() {
        const id = confirmDelete.getAttribute("data-id");

        // Find payment index
        const index = payments.findIndex((p) => p.id === id);
        if (index !== -1) {
          // Remove payment
          payments.splice(index, 1);

          // Close modal
          closeDeleteModal();

          // Update table
          updatePaymentTable();

          // Show success message
          showToast("Pembayaran berhasil dihapus!");
        }
      }

      function showToast(message) {
        // Create toast element
        const toast = document.createElement("div");
        toast.className =
          "fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg transform transition-all duration-300 translate-y-4 opacity-0";
        toast.textContent = message;
        document.body.appendChild(toast);

        // Show toast
        setTimeout(() => {
          toast.classList.remove("translate-y-4", "opacity-0");
        }, 10);

        // Hide toast after 3 seconds
        setTimeout(() => {
          toast.classList.add("translate-y-4", "opacity-0");
          setTimeout(() => {
            document.body.removeChild(toast);
          }, 300);
        }, 3000);
      }
    </script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'941894ef153d3e4f',t:'MTc0NzU0MjIzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
    <iframe
      height="1"
      width="1"
      style="
        position: absolute;
        top: 0px;
        left: 0px;
        border: medium;
        visibility: hidden;
      "
    ></iframe>
    <!-- Jangan dihapus -->
    <script>
      // Update current date and time
      function updateDateTime() {
        const now = new Date();
        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
        };
        document.getElementById("current-datetime").textContent =
          now.toLocaleDateString("id-ID", options);
      }

      updateDateTime();
      setInterval(updateDateTime, 60000); // Update every minute

      // Toggle sidebar on mobile
      document
        .getElementById("sidebar-toggle")
        .addEventListener("click", function () {
          document.getElementById("sidebar").classList.toggle("open");
        });

      // Toggle submenu
      function toggleSubmenu(id) {
        const submenu = document.getElementById(id);
        const icon = document.getElementById(id.split("-")[0] + "-icon");

        if (submenu.classList.contains("active")) {
          submenu.classList.remove("active");
          icon.style.transform = "rotate(0deg)";
        } else {
          submenu.classList.add("active");
          icon.style.transform = "rotate(180deg)";
        }
      }
      // Toggle profile dropdown
      document
        .getElementById("profile-menu-button")
        .addEventListener("click", function () {
          document.getElementById("profile-dropdown").classList.toggle("show");
        });

      // Close dropdown when clicking outside
      window.addEventListener("click", function (event) {
        if (!event.target.closest("#profile-menu-button")) {
          const dropdown = document.getElementById("profile-dropdown");
          if (dropdown.classList.contains("show")) {
            dropdown.classList.remove("show");
          }
        }

        // Close action dropdowns when clicking outside
        if (!event.target.closest(".action-button")) {
          const actionDropdowns = document.querySelectorAll(".action-dropdown");
          actionDropdowns.forEach((dropdown) => {
            if (dropdown.classList.contains("show")) {
              dropdown.classList.remove("show");
            }
          });
        }
      });
    </script>
  </body>
</html>
